<mvc:View
    displayBlock="true"
    controllerName="com.nagarro.www.presalestracker.controller.Detail"
    height="100%"
    xmlns="sap.uxap"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns:m="sap.m"
    xmlns:f="sap.f"
    xmlns:l="sap.ui.layout"
    xmlns:smartForm="sap.ui.comp.smartform"
    xmlns:core="sap.ui.core"
    xmlns:smartField="sap.ui.comp.smartfield"
    core:require="{DateType: 'sap/ui/model/type/Date'}"
    xmlns:app="http://schemas.sap.com/sapui5/extension/sap.ui.core.CustomData/1"
    xmlns:form="sap.ui.layout.form"
>
    <ObjectPageLayout
        id="ObjectPageLayout"
        showTitleInHeaderContent="true"
        alwaysShowContentHeader="false"
        preserveHeaderStateOnScroll="true"
        headerContentPinnable="true"
        isChildPage="true"
        toggleHeaderOnTitleClick="false"
        upperCaseAnchorBar="false"
    >
        <headerTitle>
            <ObjectPageDynamicHeaderTitle
                id="_IDGenObjectPageDynamicHeaderTitle"
            >
                <expandedHeading>
                    <m:Title
                        id="_IDGenTitle1"
                        text="{CustomerName}"
                        wrapping="true"
                        class="sapUiSmallMarginEnd"
                    />
                    <!-- <ObjectPageHeader id="idObjectPageHeader" objectSubtitle="{detail>/ID}" objectTitle="{CustomerName}" /> -->
                </expandedHeading>
                <navigationActions>
                    <m:OverflowToolbarButton
                        type="Transparent"
                        icon="sap-icon://full-screen"
                        press="onOverflowToolbarButtonFullScreenPress"
                        id="idEnterFullScreenOverflowToolbarButton"
                        tooltip="Enter Full Screen Mode"
                        visible="{= ${comp>/actionButtonsInfo/midColumn/fullScreen} !== null }"
                    />
                    <m:OverflowToolbarButton
                        type="Transparent"
                        icon="sap-icon://exit-full-screen"
                        press="onOverflowToolbarButtonExitFullScreenPress"
                        id="idExitFullScreenOverflowToolbarButton"
                        tooltip="Exit Full Screen Mode"
                        visible="{= ${comp>/actionButtonsInfo/midColumn/exitFullScreen} !== null }"
                    />
                    <m:OverflowToolbarButton
                        id="idCloseOverflowToolbarButton"
                        type="Transparent"
                        icon="sap-icon://decline"
                        press="onOverflowToolbarButtonClosePress"
                        tooltip="Close middle column"
                        visible="{= ${comp>/actionButtonsInfo/midColumn/closeColumn} !== null }"
                    />
                </navigationActions>

                <actions>
                    <m:Switch
                        id="_IDGenSwitch"
                        state="{viewEditableModel>/editMode}"
                        customTextOn="Edit"
                        customTextOff="Display"
                    />
                    <m:CheckBox
                        id="_IDGenCheckBox"
                        selected="{viewEditableModel>/showTable}"
                        text="Show Table View"
                        select="onToggleRemarksView"
                    />
                    <m:Button
                        id="_IDGenButton2"
                        text="Delete"
                        type="Transparent"
                    />
                    <m:Button
                        id="_IDGenButton3"
                        icon="sap-icon://action"
                        type="Transparent"
                    />
                </actions>
            </ObjectPageDynamicHeaderTitle>
        </headerTitle>
        <headerContent>
            <m:FlexBox
                id="_IDGenFlexBox"
                wrap="Wrap"
                fitContainer="true"
                alignItems="Stretch"
            >
                <!-- <m:Avatar src="../../../../../../../{products>ProductPicUrl}" displaySize="L" displayShape="Square" class="sapUiTinyMarginEnd">
                </m:Avatar> -->
                <m:VBox
                    id="_IDGenVBox"
                    justifyContent="Center"
                    class="sapUiSmallMarginEnd"
                >
                    <m:Label
                        id="_IDGenLabel"
                        text="Received Date"
                    />
                    <m:Text
                        id="_IDGenText"
                        text="{path: 'ReceivedDate', type:'sap.ui.model.type.Date', formatOptions: { style:'medium' } }"
                    />
                </m:VBox>
                <m:VBox
                    id="_IDGenVBox1"
                    justifyContent="Center"
                    class="sapUiSmallMarginEnd"
                >
                    <m:Label
                        id="_IDGenLabel1"
                        text="Status"
                    />
                    <m:Text
                        id="_IDGenText1"
                        text="{Status}"
                    />
                </m:VBox>
                <m:VBox
                    id="_IDGenVBox2"
                    justifyContent="Center"
                    class="sapUiSmallMarginEnd"
                >
                    <m:Label
                        id="_IDGenLabel2"
                        text="Documents URL"
                    />
                    <m:Link
                        id="_IDGenLink"
                        text="Click here for Opportunity Documents"
                        href="{DocUrl}"
                    />
                </m:VBox>
            </m:FlexBox>
        </headerContent>
        <sections>
            <ObjectPageSection
                id="_IDGenObjectPageSection"
                title="General Information"
            >
                <subSections>
                    <ObjectPageSubSection id="_IDGenObjectPageSubSection">
                        <blocks>
                            <smartForm:SmartForm
                                id="smartFormColumn"
                                app:defaultCheckBoxDisplayBehaviour="OnOff"
                                app:defaultDropDownDisplayBehaviour="idAndDescription"
                                editTogglable="true"
                                title="{Name}"
                                validationMode="Async"
                                editToggled="handleEditToggled"
                            >
                                <smartForm:layout>
                                    <smartForm:ColumnLayout
                                        id="_IDGenColumnLayout"
                                        columnsM="2"
                                        columnsL="3"
                                        columnsXL="3"
                                    />
                                </smartForm:layout>
                                <smartForm:Group
                                    id="_IDGenGroup"
                                    title="Customer Details"
                                >
                                    <!-- <smartForm:GroupElement label="Opportunity Description">
                                        <smartField:SmartField value="{OppDesc}" editable="false" />
                                    </smartForm:GroupElement> -->
                                    <smartForm:GroupElement
                                        id="_IDGenGroupElement"
                                        label="Geography"
                                    >
                                        <smartField:SmartField
                                            id="_IDGenSmartField"
                                            value="{Geography}"
                                            editable="false"
                                        />
                                    </smartForm:GroupElement>
                                    <smartForm:GroupElement
                                        id="_IDGenGroupElement1"
                                        label="Line Of Business"
                                    >
                                        <smartField:SmartField
                                            id="_IDGenSmartField1"
                                            value="{LineOfBusiness}"
                                            editable="false"
                                        />
                                    </smartForm:GroupElement>
                                    <smartForm:GroupElement
                                        id="_IDGenGroupElement2"
                                        label="	SAP Area of Solution / Requirement"
                                    >
                                        <smartField:SmartField
                                            id="_IDGenSmartField2"
                                            value="{SolutionArea}"
                                            editable="false"
                                        />
                                    </smartForm:GroupElement>
                                    <smartForm:GroupElement
                                        id="_IDGenGroupElement3"
                                        label="Country"
                                    >
                                        <smartField:SmartField
                                            id="_IDGenSmartField3"
                                            value="{Country}"
                                            editable="false"
                                        />
                                    </smartForm:GroupElement>
                                    <smartForm:GroupElement
                                        id="_IDGenGroupElement4"
                                        label="Deal Type"
                                    >
                                        <smartField:SmartField
                                            id="_IDGenSmartField4"
                                            value="{DealType}"
                                            editable="false"
                                        />
                                    </smartForm:GroupElement>
                                </smartForm:Group>
                                <smartForm:Group
                                    id="_IDGenGroup1"
                                    title="Opportunity Details"
                                >
                                    <smartForm:GroupElement
                                        id="_IDGenGroupElement5"
                                        label="Opportunity Description"
                                    >
                                        <smartField:SmartField
                                            id="_IDGenSmartField5"
                                            value="{OppDesc}"
                                            editable="false"
                                        />
                                    </smartForm:GroupElement>
                                    <smartForm:GroupElement
                                        id="_IDGenGroupElement6"
                                        label="Opportunity Type"
                                    >
                                        <smartField:SmartField
                                            id="_IDGenSmartField6"
                                            value="{OppType}"
                                            editable="false"
                                        />
                                    </smartForm:GroupElement>
                                    <smartForm:GroupElement
                                        id="_IDGenGroupElement7"
                                        label="Received Date"
                                    >
                                        <smartField:SmartField
                                            id="_IDGenSmartField7"
                                            value="{ReceivedDate}"
                                            editable="false"
                                        />
                                    </smartForm:GroupElement>
                                    <smartForm:GroupElement
                                        id="_IDGenGroupElement8"
                                        label="Submission Date"
                                    >
                                        <smartField:SmartField
                                            id="_IDGenSmartField8"
                                            value="{SubmissionDate}"
                                            editable="false"
                                        />
                                    </smartForm:GroupElement>
                                    <smartForm:GroupElement
                                        id="_IDGenGroupElement9"
                                        label="Opp. Size TCV"
                                    >
                                        <smartField:SmartField
                                            id="_IDGenSmartField9"
                                            value="{OppTcv}"
                                            editable="false"
                                        />
                                    </smartForm:GroupElement>
                                    <smartForm:GroupElement
                                        id="_IDGenGroupElement10"
                                        label="Commercial Model"
                                    >
                                        <smartField:SmartField
                                            id="_IDGenSmartField10"
                                            value="{CommModel}"
                                            editable="false"
                                        />
                                    </smartForm:GroupElement>
                                    <smartForm:GroupElement
                                        id="_IDGenGroupElement11"
                                        label="Win / Loss Date"
                                    >
                                        <smartField:SmartField
                                            id="_IDGenSmartField11"
                                            value="{CloseDate}"
                                            editable="false"
                                        />
                                    </smartForm:GroupElement>
                                    <smartForm:GroupElement
                                        id="_IDGenGroupElement12"
                                        label="Probability (%)"
                                    >
                                        <smartField:SmartField
                                            id="_IDGenSmartField12"
                                            value="{Probability}"
                                            editable="false"
                                        />
                                    </smartForm:GroupElement>
                                </smartForm:Group>
                                <smartForm:Group
                                    id="_IDGenGroup2"
                                    title="Administrative Details"
                                >
                                    <smartForm:GroupElement
                                        id="_IDGenGroupElement13"
                                        label="Created By"
                                    >
                                        <smartField:SmartField
                                            id="_IDGenSmartField13"
                                            value="{CreatedBy}"
                                            editable="false"
                                        />
                                    </smartForm:GroupElement>
                                    <smartForm:GroupElement
                                        id="_IDGenGroupElement14"
                                        label="Created On"
                                    >
                                        <smartField:SmartField
                                            id="_IDGenSmartField14"
                                            value="{CreatedOn}"
                                            editable="false"
                                        />
                                    </smartForm:GroupElement>
                                    <smartForm:GroupElement
                                        id="_IDGenGroupElement15"
                                        label="Last Changed By"
                                    >
                                        <smartField:SmartField
                                            id="_IDGenSmartField15"
                                            value="{UpdatedBy}"
                                            editable="false"
                                        />
                                    </smartForm:GroupElement>
                                    <smartForm:GroupElement
                                        id="_IDGenGroupElement16"
                                        label="Last Changed On"
                                    >
                                        <smartField:SmartField
                                            id="_IDGenSmartField16"
                                            value="{UpdatedOn}"
                                            editable="false"
                                        />
                                    </smartForm:GroupElement>
                                </smartForm:Group>
                            </smartForm:SmartForm>
                        </blocks>
                    </ObjectPageSubSection>
                </subSections>
            </ObjectPageSection>
            <ObjectPageSection
                id="_IDGenObjectPageSection1"
                title="Remarks"
            >
                <subSections>
                    <ObjectPageSubSection id="_IDGenObjectPageSubSection1">
                        <blocks>
                            <l:VerticalLayout
                                id="_IDGenVerticalLayout1"
                                class="sapUiContentPadding"
                                width="100%"
                            >
                                <l:content>
                                    <m:TextArea
                                        id="idRemarksTextArea"
                                        rows="5"
                                        visible="{= !${viewEditableModel>/showTable} }"
                                        width="100%"
                                        editable="false"
                                        value="{viewEditableModel>/remarksText}"
                                    />
                                    <m:TextArea
                                        id="idNewRemarksTextArea"
                                        rows="2"
                                        visible="true"
                                        width="100%"
                                        editable="true"
                                        placeholder="Enter new remarks here..."
                                    />
                                    <m:Button
                                        id="_IDGenButton4"
                                        text="Update Remarks"
                                        press="onUpdateNewRemarks"
                                    />
                                    <m:List
                                        id="_IDGenList1"
                                        items="{path : 'toRemarks'}"
                                        visible="{= ${viewEditableModel>/showTable} }"
                                    >
                                        <m:FeedListItem
                                            id="_IDGenFeedListItem"
                                            senderActive="false"
                                            showIcon="false"
                                            sender="{CreatedBy}"
                                            timestamp="{path: 'CreatedOn', type: 'DateType', formatOptions: { style: 'full' } }"
                                            text="{RmText}"
                                        />
                                    </m:List>
                                </l:content>
                            </l:VerticalLayout>
                        </blocks>
                    </ObjectPageSubSection>
                </subSections>
            </ObjectPageSection>
            <ObjectPageSection
                id="_IDGenObjectPageSection2"
                title="Partners"
            >
                <subSections>
                    <ObjectPageSubSection id="_IDGenObjectPageSubSection2">
                        <blocks>
                            <m:Table
                                id="partnerTable"
                                items="{path: 'toParters'}"
                                visible="true"
                                inset="false"
                                fixedLayout="false"
                                headerText="Partners"
                                xmlns:m="sap.m"
                            >
                                <m:columns>
                                    <m:Column id="_IDGenColumn1">
                                        <m:Text
                                            id="_IDGenText2"
                                            text="Partner Name"
                                        />
                                    </m:Column>
                                    <m:Column id="_IDGenColumn2">
                                        <m:Text
                                            id="_IDGenText3"
                                            text="Function"
                                        />
                                    </m:Column>
                                    <m:Column id="_IDGenColumn3">
                                        <m:Text
                                            id="_IDGenText4"
                                            text="Created By"
                                        />
                                    </m:Column>
                                    <m:Column id="_IDGenColumn4">
                                        <m:Text
                                            id="_IDGenText5"
                                            text="Created On"
                                        />
                                    </m:Column>
                                </m:columns>

                                <m:items>
                                    <m:ColumnListItem id="_IDGenColumnListItem">
                                        <m:cells>
                                            <m:Text
                                                id="_IDGenText6"
                                                text="{PartnerName}"
                                            />
                                            <m:Text
                                                id="_IDGenText7"
                                                text="{PartnerFunction}"
                                            />
                                            <m:Text
                                                id="_IDGenText8"
                                                text="{CreatedBy}"
                                            />
                                            <m:Text
                                                id="_IDGenText9"
                                                text="{path: 'CreatedOn', type: 'sap.ui.model.type.Date', formatOptions: { style: 'medium' } }"
                                            />
                                        </m:cells>
                                    </m:ColumnListItem>
                                </m:items>
                            </m:Table>
                        </blocks>
                    </ObjectPageSubSection>
                </subSections>
            </ObjectPageSection>
        </sections>
    </ObjectPageLayout>
</mvc:View>
